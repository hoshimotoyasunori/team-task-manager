# 運用設計書

本ドキュメントは、ES業務フローシステムの安定稼働を維持するための運用設計を定めたものです。

## 1. システム概要

運用対象となるシステムの概要を記載します。以下の観点を含めます。

*   システム名称: ES業務フローシステム
*   システムの目的と提供サービス
*   システム構成の概要 (サーバー、DB、ネットワークなどの高レベルな構成図への参照など)
*   主要な機能 (`02.機能要件定義.md` を参照)
*   外部システム連携の有無と概要

## 2. 運用体制

システムの運用に関わる組織、担当者、役割分担、および勤務時間などを記載します。

*   運用組織名/チーム名
*   担当者リストと役割分担 (例: サーバー担当、DB担当、アプリケーション担当)
*   連絡体制、エスカレーションルール (`8. 問い合わせ・エスカレーションフロー` を参照)
*   休日・夜間など、通常の勤務時間外の対応体制

## 3. 監視設計

システムの稼働状況、性能、リソース使用率などを監視するための項目、方法、使用ツール、および閾値、通知ルールなどを詳細に記載します。

*   **監視項目:** (`10.非機能要件詳細.md` の性能・可用性要件、`04.データモデル.md` のDB容量などを考慮)
    *   サーバーリソース (CPU使用率、メモリ使用率、ディスク容量、ネットワークトラフィック)
    *   ミドルウェア (Webサーバー、APサーバー、DBサーバーのプロセス状態、ログエラー数)
    *   アプリケーション固有のメトリクス (処理時間、エラーレート、キューの長さ)
    *   外部連携の疎通状況
    *   定期実行ジョブの実行結果と処理時間
    *   システムログに出力されるエラー、警告
*   **監視方法:** (例: ログ監視、メトリクス監視、外形監視)
*   **使用ツール:** (具体的な監視ツールの名称と設定概要)
*   **閾値と通知ルール:** (例: CPU使用率が80%を5分以上継続したら担当者にアラートメール送信)
*   **監視ダッシュボード:** (監視状況を確認できるダッシュボードがあればその情報)

## 4. ジョブ管理

システムに関連するバッチ処理や定期実行ジョブがあれば、その一覧、実行スケジュール、依存関係、異常終了時の対応方法などを記載します。

*   ジョブ一覧 (名称、処理概要)
*   実行スケジュール (cron設定など)
*   ジョブの依存関係
*   正常終了/異常終了の判断基準
*   異常終了時の通知方法と担当者
*   リラン（再実行）の手順

## 5. バックアップ・リカバリ設計

システムデータ（データベース、ファイルなど）のバックアップ方法、頻度、世代管理、保管場所、および災害やシステム障害発生時のデータ復旧（リカバリ）手順を詳細に記載します。

*   バックアップ対象 (どのデータ/ファイルをバックアップするか)
*   バックアップ方法 (物理バックアップ、論理バックアップ、スナップショットなど)
*   バックアップ頻度とスケジュール
*   バックアップデータの保管場所と保管期間 (世代管理)
*   リカバリ手順 (データベース、ファイルなどの復旧手順)
*   目標復旧時間 (RTO: Recovery Time Objective)
*   目標復旧時点 (RPO: Recovery Point Objective)

## 6. セキュリティ運用

システムのセキュリティを維持するための運用ルールや手順を記載します (`09.セキュリティ詳細設計.md` を参照)。

*   アクセス権限管理の運用ルール
*   脆弱性対策 (パッチ適用ポリシーなど)
*   不正アクセス検知・防御に関する運用
*   ログ監視によるセキュリティイベントの検知と対応
*   定期的なセキュリティチェックや診断の実施計画

## 7. ログ管理

システムのログ収集、保管、分析、および活用に関するルールを記載します。

*   ログの種類 (アプリケーションログ、ミドルウェアログ、OSログなど)
*   ログの出力レベルと内容
*   ログの収集方法と保管場所
*   ログの保管期間
*   ログ分析方法と使用ツール
*   個人情報や機密情報を含むログの取り扱いに関する注意点

## 8. 問い合わせ・エスカレーションフロー

システムに関するユーザーからの問い合わせや、監視により検知された問題発生時の対応フロー、および上位組織や関係部署へのエスカレーションルールを明確に記載します。

*   一次受け付け窓口と対応時間
*   問題判別と切り分け手順
*   担当者へのエスカレーション基準とフロー
*   上位組織やベンダーへのエスカレーション基準とフロー
*   ユーザーへの状況報告ルール
*   インシデント発生時のコミュニケーションフロー 